(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{29:function(e,t,a){e.exports=a(59)},35:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),u=(a(34),a(35),a(5)),o=a(1),m=function(){return r.a.createElement("h2",null,"Home page")},s=a(28),i=a(20),p=a(10),E=a(24),h=a.n(E),f=a(7),b=a.n(f),d=a(17),g=a.n(d),v=a(25),O={getPeople:function(){var e=Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},j=function(e){var t=e.name,a=e.slug,n="f"===e.sex?"red":"",l=Object(o.h)().search;return r.a.createElement("div",null,a?r.a.createElement(u.b,{to:"/people/".concat(a,"/").concat(l),style:{color:n}},t):r.a.createElement("strong",null,t))},y=function(e){var t=e.name,a=e.sex,n=e.born,l=e.died,c=e.mother,u=e.father,o=e.motherName,m=e.fatherName,s=e.slug;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(j,{name:t,slug:s,sex:a})),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,r.a.createElement(j,{name:o,slug:null===c||void 0===c?void 0:c.slug,sex:"f"})),r.a.createElement("td",null,r.a.createElement(j,{name:m,slug:null===u||void 0===u?void 0:u.slug,sex:"m"})))},x=function(e){var t=e.value,a=Object(o.h)(),n=a.search,l=a.pathname,c=b.a.parse(n);c.sortBy=t,c.sortOrder="ask"===c.sortOrder?"desc":"ask";var m=b.a.stringify(c),s="".concat(l,"?").concat(m);return r.a.createElement(u.b,{to:s,style:{color:"#000"}},t.replace(/^\w/,(function(e){return e.toUpperCase()})),r.a.createElement("img",{src:"sort_both.png",alt:"Sort both"}))},N=function(e){var t=e.people,a=Object(o.h)().pathname.replace(/\/+$/,"").match(/\/([^/]+)$/g),n=a?a[0].replace("/",""):null;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(x,{value:"name"})),r.a.createElement("th",null,r.a.createElement(x,{value:"sex"})),r.a.createElement("th",null,r.a.createElement(x,{value:"born"})),r.a.createElement("th",null,r.a.createElement(x,{value:"died"})),r.a.createElement("th",null,"Mother"),r.a.createElement("th",null,"Father"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.slug,className:"".concat(n===e.slug?"highlighted":"")},r.a.createElement(y,e))}))))},k=a(27),C=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(o.h)(),u=c.search,m=c.pathname,s=Object(o.g)().push,i=b.a.parse(u),E=Object(n.useCallback)(Object(k.debounce)((function(e){i.query=e;var t=b.a.stringify(i);s("".concat(m,"?").concat(t))}),500),[]);return r.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;l(t),E(t)},value:a})},w=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),u=Object(p.a)(c,2),m=u[0],E=u[1],f=Object(n.useState)(!1),d=Object(p.a)(f,2),g=d[0],v=d[1];Object(n.useEffect)((function(){v(!0),O.getPeople().then((function(e){l(e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName}))||null,father:e.find((function(e){return e.name===t.fatherName}))||null})})))}))}),[]);var j=Object(o.h)().search,y=b.a.parse(j),x=y.sortBy,k=y.query,w=y.sortOrder;return Object(n.useEffect)((function(){"name"===x||"sex"===x?a.sort((function(e,t){return"desc"===w?e[x].localeCompare(t[x]):t[x].localeCompare(e[x])})):"born"!==x&&"died"!==x||a.sort((function(e,t){return"desc"===w?e[x]-t[x]:t[x]-e[x]})),E(Object(s.a)(a).filter((function(e){var t=new RegExp(k?k.toString():"","gi");return t.test(e.name)||t.test(e.motherName)||t.test(e.fatherName)})))}),[x,w,k,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"People page"),r.a.createElement(h.a,{loaded:g},r.a.createElement(C,null),r.a.createElement(N,{people:m})))},S=function(){return r.a.createElement("h2",null,"Page not found.")},P=function(){return r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/",exact:!0,activeClassName:"active-link"},"Home")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/people",activeClassName:"active-link"},"People")))},_=function(){return r.a.createElement("div",{className:"App grid-container"},r.a.createElement(u.a,null,r.a.createElement(P,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/people/",component:w}),r.a.createElement(o.a,{from:"/home",to:"/"}),r.a.createElement(o.b,{path:"/",component:m}),r.a.createElement(o.b,{path:"*",component:S}))))};c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.cc7a0a80.chunk.js.map